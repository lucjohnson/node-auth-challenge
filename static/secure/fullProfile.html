<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Full Profile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
</head>
<body class="container" ng-app="Authentication" ng-controller="AuthController">
    <h1>This is your full profile</h1>
    <div class="row">
        <div class="col s6">
            <img src="https://s.gravatar.com/avatar/{{user.gravatarHash}}?s=120" ng-show="user.gravatarHash">
            <!--<img src="http://graph.facebook.com/{{user.id}}/picture?type=normal" ng-hide="user.gravatarHash"><br>-->
        </div>
        <div class="col s6">
            <ul>
                <li>Display Name: {{user.displayName}}</li>
                <li ng-if="user.email">Email: {{user.email}}</li>
                <li ng-if="!user.email">Email: You do not share your email publicly</li>
                <li></li>
            </ul>
        </div>
    </div>
    <div class="row" ng-controller="FormController">
        <div class="col s6">
            <h5>Change Display Name</h5>
            <form ng-submit="changeDisplayName(user)">
                <input required type="text" ng-model="user.newDisplay">
                <input type="submit" class="btn" value="Save">
            </form>
        </div>
        <div class="col s6" ng-hide="fullUser.facebook">
            <h5>Change Your Password</h5>
            <div ng-show="passwordAlert">{{passwordAlert}}</div>
            <form ng-submit="changePassword(user)">
                <div class="row">
                    <div class="input-field col s12">
                        <input required name="currentPass" type="password" class="validate" ng-model="user.currentPass">
                        <label for="currentPass">Current Password</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <input required name="newPass" type="password" class="validate" ng-model="user.newPass">
                        <label for="newPass">New Password</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <input required name="confirmPass" type="password" class="validate" ng-model="user.confirmPass">
                        <label for="confirmtPass">Confirm New Password</label>
                    </div>
                </div>
                <div class="row">
                    <input type="submit" class="btn" value="Update Password">
                </div>
            </form>
        </div>
    </div>
    <a href="/signout" class="btn red">Sign out</a>
    <a href="/profile.html" class="btn">Back to your homepage</a>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>